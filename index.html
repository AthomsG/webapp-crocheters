<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="An interactive grid-based crochet pattern designer">
    <title>Crochet Designer</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- Add debug script -->
    <script src="js/debug.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Crochet Designer</h1>
            <div class="grid-controls">
                <label for="grid-rows">Rows:</label>
                <input type="number" id="grid-rows" min="5" max="50" value="20">
                <label for="grid-cols">Columns:</label>
                <input type="number" id="grid-cols" min="5" max="50" value="20">
                <button id="update-grid">Update Grid</button>
            </div>
        </header>
        
        <main>
            <div class="tools-container">
                <div class="tool" data-tool="pencil" title="Pencil Tool - Draw individual cells">âœï¸</div>
                <div class="tool" data-tool="eraser" title="Eraser Tool - Clear individual cells">ğŸ§½</div>
                <div class="tool" data-tool="fill" title="Fill Tool - Fill connected areas">ğŸª£</div>
                <div class="tool" data-tool="picker" title="Color Picker - Select a color from the grid">ğŸ‘†</div>
                <div class="tool" data-tool="selection" title="Selection Tool - Select and move cells">â—»ï¸</div>
                <div class="tool" data-tool="move" title="Paste Tool - Place copied/cut content">ğŸ“Œ</div>
            </div>
            
            <div class="tool-buttons">
                <button id="undo-btn" class="tool-btn" title="Undo (Ctrl+Z)">â†©ï¸ Undo</button>
                <button id="redo-btn" class="tool-btn" title="Redo (Ctrl+Y)">â†ªï¸ Redo</button>
                <button id="copy-btn" class="tool-btn" title="Copy Selection (Ctrl+C)">ğŸ“‹ Copy</button>
                <button id="cut-btn" class="tool-btn" title="Cut Selection (Ctrl+X)">âœ‚ï¸ Cut</button>
                <button id="paste-btn" class="tool-btn" title="Paste (Ctrl+V)">ğŸ“Œ Paste</button>
                <button id="clear-btn" class="tool-btn" onclick="app.clearGrid()">ğŸ—‘ï¸ Clear All</button>
            </div>
            
            <div class="action-buttons">
                <button id="apply-selection" class="apply-selection-btn">Apply Color to Selection</button>
                <button id="clear-selection" class="apply-selection-btn">Clear Selection</button>
            </div>
            
            <div id="grid-container"></div>
            
            <div class="color-palette">
                <div class="color-option selected" data-color="#FF0000" style="background-color: #FF0000;"></div>
                <div class="color-option" data-color="#0000FF" style="background-color: #0000FF;"></div>
                <div class="color-option" data-color="#FFFF00" style="background-color: #FFFF00;"></div>
                <div class="color-option" data-color="#000000" style="background-color: #000000;"></div>
                <div class="color-option add-color" title="Add New Color">+</div>
            </div>
            
            <!-- Color picker modal (updated from color wheel) -->
            <div id="color-picker-container" class="color-picker-container">
                <h3>Choose Custom Color</h3>
                <input type="color" id="color-picker" value="#000000">
                <input type="text" id="color-hex" value="#000000" placeholder="Hex color code">
                <button id="color-picker-apply">Add to Palette</button>
                <button id="color-picker-cancel">Cancel</button>
            </div>
            
            <div class="keyboard-shortcuts">
                <h3>Keyboard Shortcuts</h3>
                <ul>
                    <li><kbd>Ctrl</kbd>+<kbd>Z</kbd> Undo</li>
                    <li><kbd>Ctrl</kbd>+<kbd>Y</kbd> Redo</li>
                    <li><kbd>Ctrl</kbd>+<kbd>C</kbd> Copy selection</li>
                    <li><kbd>Ctrl</kbd>+<kbd>X</kbd> Cut selection</li>
                    <li><kbd>Ctrl</kbd>+<kbd>V</kbd> Paste</li>
                    <li><kbd>Esc</kbd> Cancel paste</li>
                </ul>
            </div>
            
            <div class="tool-help">
                <h3>Tool Tips</h3>
                <p><strong>Selection Tool:</strong> Click and drag to select area. Click inside selection and drag to move it.</p>
                <p><strong>Paste Tool:</strong> Click to position pasted content, press ESC to cancel.</p>
            </div>
        </main>
    </div>
    
    <!-- Load scripts in the right order -->
    <script type="module" src="js/main.js"></script>
</body>
</html>
